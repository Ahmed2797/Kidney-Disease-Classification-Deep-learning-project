schema: '2.0'
stages:
  data_ingestion:
    cmd: python project/pipeline/1_data_ingestion_pipeline.py
    deps:
    - path: project/components/data_ingestion.py
      hash: md5
      md5: cf914845b0f11040f9a65ebb23ecdd23
      size: 2656
    - path: project/pipeline/1_data_ingestion_pipeline.py
      hash: md5
      md5: 6626baec19bd3873521cca96cc69c13f
      size: 980
    - path: yamlfile/config.yaml
      hash: md5
      md5: 3ace2e32dccbc07e260ab55b11e57ede
      size: 1158
    outs:
    - path: artifacts/data_ingestion/kidney-ct-scan-image
      hash: md5
      md5: 33ed59dbe5dec8ce2bb8e489b55203e4.dir
      size: 58936381
      nfiles: 465
  prepare_base_model:
    cmd: python project/pipeline/2_prepare_basemodel.py
    deps:
    - path: project/components/prepare_basemodel.py
      hash: md5
      md5: bc87dbc058a7acc1e5ab602076105b01
      size: 2683
    - path: project/pipeline/2_prepare_basemodel.py
      hash: md5
      md5: 791f5db80ece3ba5c5076e46be0a4c73
      size: 1021
    - path: yamlfile/config.yaml
      hash: md5
      md5: 3ace2e32dccbc07e260ab55b11e57ede
      size: 1158
    params:
      yamlfile/param.yaml:
        CLASSICS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDETOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model/update_base_mode.h5
      hash: md5
      md5: ce53f1db10fa7a049a2f9970e29faa24
      size: 59147448
    - path: artifacts/prepare_base_model/vgg16.h5
      hash: md5
      md5: 740334d5c862dda304ee554d411627ab
      size: 58926064
  prepare_callbacks:
    cmd: python project/pipeline/3_callbacks.py
    deps:
    - path: project/components/callbacks.py
      hash: md5
      md5: 9c932fe474116ce1b460c0b725cfd504
      size: 2660
    - path: project/entity/config.py
      hash: md5
      md5: 32c08c7530088ba6dba958c4fc19ed33
      size: 4275
    - path: project/pipeline/3_callbacks.py
      hash: md5
      md5: 9e14c618455cceb4bcb8bddef1d22fab
      size: 924
    - path: yamlfile/config.yaml
      hash: md5
      md5: 3ace2e32dccbc07e260ab55b11e57ede
      size: 1158
    outs:
    - path: artifacts/prepare_callbacks/checkpoint_
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
    - path: artifacts/prepare_callbacks/tensorboard_log_dir
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
  model_training:
    cmd: python project/pipeline/4_model_training.py
    deps:
    - path: artifacts/data_ingestion/kidney-ct-scan-image
      hash: md5
      md5: 33ed59dbe5dec8ce2bb8e489b55203e4.dir
      size: 58936381
      nfiles: 465
    - path: artifacts/prepare_base_model/update_base_mode.h5
      hash: md5
      md5: ce53f1db10fa7a049a2f9970e29faa24
      size: 59147448
    - path: project/components/callbacks.py
      hash: md5
      md5: 9c932fe474116ce1b460c0b725cfd504
      size: 2660
    - path: project/components/model_training.py
      hash: md5
      md5: 66ebef5ff5c94690783c5df47015463e
      size: 4766
    - path: project/pipeline/4_model_training.py
      hash: md5
      md5: 2e196e4d70b27ebee9800ce13bc9b6b8
      size: 1487
    - path: yamlfile/config.yaml
      hash: md5
      md5: 3ace2e32dccbc07e260ab55b11e57ede
      size: 1158
    params:
      yamlfile/param.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 2
        LEARNING_RATE: 0.01
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 675b76240ca34061e36bc0348c3bff6c
      size: 59551240
  model_evaluation:
    cmd: python project/pipeline/5_model_evaluation.py
    deps:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 675b76240ca34061e36bc0348c3bff6c
      size: 59551240
    - path: project/components/model_evalution.py
      hash: md5
      md5: 5a18054fb91640b5f627f1327d7d659d
      size: 3988
    - path: project/components/model_training.py
      hash: md5
      md5: 66ebef5ff5c94690783c5df47015463e
      size: 4766
    - path: project/pipeline/5_model_evaluation.py
      hash: md5
      md5: 16e0475cf2fd4072d1ec960e3dfd7701
      size: 923
    - path: yamlfile/config.yaml
      hash: md5
      md5: 3ace2e32dccbc07e260ab55b11e57ede
      size: 1158
    - path: yamlfile/param.yaml
      hash: md5
      md5: 57ee3a495ff43e1fcb81c8af9b63b6bf
      size: 141
    params:
      yamlfile/param.yaml:
        BATCH_SIZE: 16
        CLASSICS: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/model_evaluation/report.yaml
      hash: md5
      md5: 4579f6db7f0978d4bd7c9b4b5e83776b
      size: 42
    - path: artifacts/model_evaluation/report/report.json
      hash: md5
      md5: c2eb4cdabcca251acfd9513c080006e2
      size: 58
    - path: artifacts/model_evaluation/scores/scores.json
      hash: md5
      md5: c2eb4cdabcca251acfd9513c080006e2
      size: 58
